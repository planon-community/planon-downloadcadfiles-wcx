/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.6.1/userguide/java_library_plugin.html
 */

plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
}

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

configurations {
    // configuration that holds jars to include in the jar
    extraLibs
}

dependencies {
    // Use OSGI Bundle, Planon WCX API, and logging
    compile files('lib/osgi.core-7.0.0.jar','lib/com.planonsoftware.webclientextension.api-2.1.3.0-5.jar','lib/com.planonsoftware.logging-4.0.5.0-1.jar','lib/log4j-1.2.17.jar','lib/wicket-core-8.1.0.jar','lib/wicket-extensions-8.1.0.jar','lib/wicket-request-8.1.0.jar','lib/wicket-util-8.1.0.jar','lib/jdk-serializable-functional-1.8.6.jar','lib/com.planonsoftware.enterprise.service.api-2.25.1.0-1.jar','lib/com.planonsoftware.enterprise.service.api.impl-7.0.19.0-1.jar')
    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
    }

sourceSets {
    main {
        java {
            srcDir 'src/main/java'
        }
        resources {
            srcDir 'src/main/java'
        }
    }
}

task buildWithURL {
    dependsOn build
    doLast {
        exec {
            commandLine 'sh', '-c', 'open -a Firefox -n --args -private-window "https://facilities-pre.dartmouth.edu"'
        }
    }
}

jar {
    baseName = 'ExportCadFiles-WCX'
    version = '1.0.0'
    destinationDir = file('/Volumes/tms/upload/jboss-web')
    manifest {
        attributes (
            'Manifest-Version': '1.0',
            'Bundle-ManifestVersion': '2',
            'Bundle-Name': 'ExportCadFiles-WCX',
            'Bundle-SymbolicName': 'ExportCadFiles-WCX',
            'Bundle-Version': '1.0.0',
            'Bundle-Activator': 'edu.dartmouth.bt.planon.exportcadfiles.wcx.Activator',
            'Import-Package':
                'nl.planon.zeus.clientextension.cxinterface,nl.planon.hera.webclientextension.wcxinterface,nl.planon.util.pnlogging,nl.planon.enterprise.service.api,nl.planon.enterprise.service.api.factory,nl.planon.hades.dto,org.apache.wicket,org.apache.wicket.ajax,org.apache.wicket.ajax.markup.html.form,org.apache.wicket.extensions.ajax.markup.html.modal,org.apache.wicket.extensions.markup.html.repeater.data.table,org.apache.wicket.extensions.markup.html.repeater.util,org.apache.wicket.markup.html,org.apache.wicket.markup.html.basic,org.apache.wicket.markup.html.form,org.apache.wicket.markup.html.panel,org.apache.wicket.model,org.apache.wicket.markup.repeater,org.apache.wicket.behavior,org.apache.wicket.ajax.attributes,org.apache.wicket.core.request.handler,org.apache.wicket.ajax.markup.html,org.osgi.framework,org.apache.wicket.markup.html.link,org.apache.wicket.util.resource,org.apache.wicket.request,org.apache.wicket.request.handler.resource,org.apache.wicket.request.resource,org.apache.wicket.request.cycle, org.apache.wicket.util.io'
        )
    }
}